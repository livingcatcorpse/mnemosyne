<!DOCTYPE html>
<!--
   MNEMOSYNE | Formulário de submissão de memórias
   2025/2026
   Autoras: Carolina Machado, Mariana Marinha, Maria Sá, Rita Mendes
   UC: Projeto 4
   Curso: Design de Comunicação, 3º Ano
   Faculdade de Belas Artes da Universidade do Porto
-->
   
<html lang="pt-PT">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mnemosyne</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="assets/imagens/favicon.png" />

  <audio id="bg-music" src="assets/musica/fallendown.mp3" autoplay loop></audio>
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="assets/css/form.css" />
</head>
<body>
  <!-- FUNDO IGUAL AO DO WEBSITE (via Firebase) PARA ALTERAR DEPOIS -->
  <div class="decor-canvas" aria-hidden="true">
    <!-- Usamos o mesmo viewBox do site para coincidir posições/escala -->
    <svg viewBox="0 0 1728 1117" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
      <defs>
        <filter id="soft-glow" x="-40%" y="-40%" width="180%" height="180%" filterUnits="objectBoundingBox">
          <feGaussianBlur in="SourceGraphic" stdDeviation="45" result="blur" />
        </filter>
        <!-- === COPIA EXATA DOS GRADIENTES E DO FILTRO DE DESTAQUE DO WEBSITE === -->
        <filter id="highlight" x="-20%" y="-20%" width="140%" height="140%" filterUnits="objectBoundingBox">
          <feColorMatrix type="saturate" values="1.8" />
          <feComponentTransfer>
            <feFuncR type="linear" slope="1.25" />
            <feFuncG type="linear" slope="1.25" />
            <feFuncB type="linear" slope="1.25" />
            <feFuncA type="linear" slope="1.0" />
          </feComponentTransfer>
          <feGaussianBlur stdDeviation="6" result="glow" />
          <feMerge>
            <feMergeNode in="SourceGraphic" />
            <feMergeNode in="glow" />
          </feMerge>
        </filter>
        
        
        <!-- Gradientes 1..12 iguais ao site -->
        <radialGradient id="grad-1" cx="50%" cy="50%">
          <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
          <stop offset="6%" style="stop-color:#B8E8FF;stop-opacity:0.98" />
          <stop offset="13%" style="stop-color:#4EC9FF;stop-opacity:0.96" />
          <stop offset="20%" style="stop-color:#6FEAFF;stop-opacity:0.93" />
          <stop offset="28%" style="stop-color:#FFE85C;stop-opacity:0.91" />
          <stop offset="36%" style="stop-color:#FF9C4A;stop-opacity:0.87" />
          <stop offset="45%" style="stop-color:#F52A2A;stop-opacity:0.8" />
          <stop offset="56%" style="stop-color:#8B1A1A;stop-opacity:0.65" />
          <stop offset="70%" style="stop-color:#C7358A;stop-opacity:0.38" />
          <stop offset="85%" style="stop-color:#C7358A;stop-opacity:0.18" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
        </radialGradient>
        <radialGradient id="grad-2" cx="50%" cy="50%">
          <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
          <stop offset="7%" style="stop-color:#D4F4FF;stop-opacity:0.98" />
          <stop offset="15%" style="stop-color:#68EBFF;stop-opacity:0.95" />
          <stop offset="24%" style="stop-color:#2BB8E8;stop-opacity:0.91" />
          <stop offset="34%" style="stop-color:#1A5C7A;stop-opacity:0.85" />
          <stop offset="46%" style="stop-color:#5CE39D;stop-opacity:0.7" />
          <stop offset="60%" style="stop-color:#1F5C3A;stop-opacity:0.45" />
          <stop offset="80%" style="stop-color:#1F5C3A;stop-opacity:0.22" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
        </radialGradient>
        <radialGradient id="grad-3" cx="50%" cy="50%">
          <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
          <stop offset="8%" style="stop-color:#FFC4F0;stop-opacity:0.98" />
          <stop offset="17%" style="stop-color:#E67FFF;stop-opacity:0.95" />
          <stop offset="27%" style="stop-color:#9C4AEB;stop-opacity:0.91" />
          <stop offset="38%" style="stop-color:#4A1A70;stop-opacity:0.85" />
          <stop offset="52%" style="stop-color:#A8D8FF;stop-opacity:0.7" />
          <stop offset="70%" style="stop-color:#5CB3FF;stop-opacity:0.45" />
          <stop offset="90%" style="stop-color:#5CB3FF;stop-opacity:0.22" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
        </radialGradient>
        <radialGradient id="grad-4" cx="50%" cy="50%">
          <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
          <stop offset="7%" style="stop-color:#FFF5FC;stop-opacity:0.98" />
          <stop offset="15%" style="stop-color:#FFB8EC;stop-opacity:0.95" />
          <stop offset="24%" style="stop-color:#FF6AD4;stop-opacity:0.91" />
          <stop offset="34%" style="stop-color:#C7358A;stop-opacity:0.85" />
          <stop offset="46%" style="stop-color:#F52A2A;stop-opacity:0.7" />
          <stop offset="60%" style="stop-color:#FF9C4A;stop-opacity:0.45" />
          <stop offset="80%" style="stop-color:#FF9C4A;stop-opacity:0.22" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
        </radialGradient>
        <radialGradient id="grad-5" cx="50%" cy="50%">
          <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
          <stop offset="8%" style="stop-color:#F0FFB8;stop-opacity:0.98" />
          <stop offset="17%" style="stop-color:#C8FF5C;stop-opacity:0.95" />
          <stop offset="27%" style="stop-color:#84E345;stop-opacity:0.91" />
          <stop offset="38%" style="stop-color:#3D6B1F;stop-opacity:0.85" />
          <stop offset="52%" style="stop-color:#A8D8FF;stop-opacity:0.7" />
          <stop offset="70%" style="stop-color:#5CB3FF;stop-opacity:0.45" />
          <stop offset="90%" style="stop-color:#5CB3FF;stop-opacity:0.22" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
        </radialGradient>
        <radialGradient id="grad-6" cx="50%" cy="50%">
          <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
          <stop offset="7%" style="stop-color:#FFD699;stop-opacity:0.98" />
          <stop offset="15%" style="stop-color:#99CCFF;stop-opacity:0.95" />
          <stop offset="24%" style="stop-color:#5C8FFF;stop-opacity:0.91" />
          <stop offset="34%" style="stop-color:#2A3D6B;stop-opacity:0.85" />
          <stop offset="46%" style="stop-color:#84E345;stop-opacity:0.7" />
          <stop offset="60%" style="stop-color:#3D6B1F;stop-opacity:0.45" />
          <stop offset="80%" style="stop-color:#3D6B1F;stop-opacity:0.22" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
        </radialGradient>
        <radialGradient id="grad-7" cx="50%" cy="50%">
          <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
          <stop offset="7%" style="stop-color:#FFF9D6;stop-opacity:0.98" />
          <stop offset="15%" style="stop-color:#FFD84A;stop-opacity:0.95" />
          <stop offset="24%" style="stop-color:#FF9F3D;stop-opacity:0.91" />
          <stop offset="34%" style="stop-color:#B85A1A;stop-opacity:0.85" />
          <stop offset="46%" style="stop-color:#F52A2A;stop-opacity:0.7" />
          <stop offset="60%" style="stop-color:#C7358A;stop-opacity:0.45" />
          <stop offset="80%" style="stop-color:#C7358A;stop-opacity:0.22" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
        </radialGradient>
        <radialGradient id="grad-8" cx="50%" cy="50%">
          <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
          <stop offset="7%" style="stop-color:#FFFADB;stop-opacity:0.98" />
          <stop offset="15%" style="stop-color:#FFF176;stop-opacity:0.95" />
          <stop offset="24%" style="stop-color:#FFB84A;stop-opacity:0.91" />
          <stop offset="34%" style="stop-color:#B87A00;stop-opacity:0.85" />
          <stop offset="46%" style="stop-color:#A8D8FF;stop-opacity:0.7" />
          <stop offset="60%" style="stop-color:#84E345;stop-opacity:0.45" />
          <stop offset="80%" style="stop-color:#84E345;stop-opacity:0.22" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
        </radialGradient>
        <radialGradient id="grad-9" cx="50%" cy="50%">
          <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
          <stop offset="7%" style="stop-color:#DBFF99;stop-opacity:0.98" />
          <stop offset="15%" style="stop-color:#A8D65C;stop-opacity:0.95" />
          <stop offset="24%" style="stop-color:#6B9B2A;stop-opacity:0.91" />
          <stop offset="34%" style="stop-color:#3D5617;stop-opacity:0.85" />
          <stop offset="46%" style="stop-color:#5C7FD4;stop-opacity:0.7" />
          <stop offset="60%" style="stop-color:#2A3D6B;stop-opacity:0.45" />
          <stop offset="80%" style="stop-color:#2A3D6B;stop-opacity:0.22" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
        </radialGradient>
        <radialGradient id="grad-10" cx="50%" cy="50%">
          <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
          <stop offset="7%" style="stop-color:#C4E0FF;stop-opacity:0.98" />
          <stop offset="15%" style="stop-color:#9FBAFF;stop-opacity:0.95" />
          <stop offset="24%" style="stop-color:#5C7FD4;stop-opacity:0.91" />
          <stop offset="34%" style="stop-color:#2A3D6B;stop-opacity:0.85" />
          <stop offset="46%" style="stop-color:#FFC4F0;stop-opacity:0.7" />
          <stop offset="60%" style="stop-color:#E67FFF;stop-opacity:0.45" />
          <stop offset="80%" style="stop-color:#E67FFF;stop-opacity:0.22" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
        </radialGradient>
        <radialGradient id="grad-11" cx="50%" cy="50%">
          <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
          <stop offset="7%" style="stop-color:#FFA89E;stop-opacity:0.98" />
          <stop offset="15%" style="stop-color:#FF5C4A;stop-opacity:0.95" />
          <stop offset="24%" style="stop-color:#D92A1A;stop-opacity:0.91" />
          <stop offset="34%" style="stop-color:#6B1A13;stop-opacity:0.85" />
          <stop offset="46%" style="stop-color:#FFE85C;stop-opacity:0.7" />
          <stop offset="60%" style="stop-color:#FFD84A;stop-opacity:0.45" />
          <stop offset="80%" style="stop-color:#FFD84A;stop-opacity:0.22" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
        </radialGradient>
        <radialGradient id="grad-12" cx="50%" cy="50%">
          <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
          <stop offset="7%" style="stop-color:#B8FFDB;stop-opacity:0.98" />
          <stop offset="15%" style="stop-color:#5CE39D;stop-opacity:0.95" />
          <stop offset="24%" style="stop-color:#35A86B;stop-opacity:0.91" />
          <stop offset="34%" style="stop-color:#1F5C3A;stop-opacity:0.85" />
          <stop offset="46%" style="stop-color:#A8D8FF;stop-opacity:0.7" />
          <stop offset="60%" style="stop-color:#5CB3FF;stop-opacity:0.45" />
          <stop offset="80%" style="stop-color:#5CB3FF;stop-opacity:0.22" />
          <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
        </radialGradient>
      </defs>
      <rect width="1728" height="1117" fill="black" />
      <!-- Grupo vazio: será preenchido dinamicamente com as memórias ativas -->
      <g filter="url(#soft-glow)" id="memory-circles-container"></g>
    </svg>
  </div>
  
  <!-- Intro screen: título, subtítulo e botão continuar -->
  <section id="intro-screen" class="intro-screen" aria-label="Ecrã de entrada">
    <div class="hero-title" role="heading" aria-level="1">
      <h1>MNEMOSYNE</h1>
      <p class="hero-subtitle">conta-nos</p>
    </div>
    <div id="intro-continue" class="intro-continue" aria-label="Continuar para o formulário">
      <p><span class="btn-main">toca aqui</span><span class="btn-sub">para continuar</span></p>
      <svg class="arrow-down" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
  </section>

  <!-- Text screen: página de texto antes do formulário -->
  <section id="text-screen" class="text-screen" hidden aria-label="Texto introdutório">
    <div class="text-content">
      <p>Todos temos memórias que não queremos que desapareçam.</p>
      <p>Todos tememos o esquecimento.</p>
      <p>O medo do efémero é algo comum a todos nós.</p>
    </div>
    <div id="text-continue" class="intro-continue" aria-label="Continuar para o formulário">
      <p><span class="btn-main">toca aqui</span><span class="btn-sub">para continuar</span></p>
      <svg class="arrow-down" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
  </section>

  <!-- Confirmation screen: após submissão -->
  <section id="confirmation-screen" class="text-screen" hidden aria-label="Confirmação">
    <class class="text-content">
      <p style="opacity: 1;">Mais cedo ou mais tarde, a tua memória vai desvanecer-se.</p>
      <p style="opacity: 0.75;">Não podes fazer nada para o impedir.</p>
      <p style="opacity: 0.5;">Aproveita este instante enquanto ele ainda vive em ti.</p>
      <p style="opacity: 0.25;">Agora, olha para a projeção.</p>
    </div>
  </section>

  <!-- Form screen: escondido até passar pela text screen -->
  <div id="form-screen" class="form-container" hidden>
    <form id="memory-form">
      <!-- Step 1: Pergunta principal -->
      <div id="form-step-1" class="form-step">
        <h2 class="form-question">Sendo assim, conta-nos aqui um momento para que não se vá embora.</h2>
        <div class="form-group">
          <textarea 
            id="memory-text" 
            name="memory-text"
            placeholder="Escreve aqui..."
            required
          ></textarea>
          <div class="char-limit-hint">Mínimo de 10 caracteres para submeter.</div>
        </div>
      </div>
      
      <!-- Step 2: Importância -->
      <div id="form-step-2" class="form-step" hidden>
        <h2 class="form-question">Com que frequência pensas nessa memória?</h2>
        <div class="form-group">
          <div class="importance-selector">
            <div class="importance-option">
              <input type="radio" name="size-choice" id="size-1" value="small" required>
              <label for="size-1" class="circle-label"></label>
              <span class="importance-label">Pouco</span>
            </div>
            <div class="importance-option">
              <input type="radio" name="size-choice" id="size-2" value="small-medium" required>
              <label for="size-2" class="circle-label"></label>
            </div>
            <div class="importance-option">
              <input type="radio" name="size-choice" id="size-3" value="medium" required>
              <label for="size-3" class="circle-label"></label>
            </div>
            <div class="importance-option">
              <input type="radio" name="size-choice" id="size-4" value="medium-large" required>
              <label for="size-4" class="circle-label"></label>
            </div>
            <div class="importance-option">
              <input type="radio" name="size-choice" id="size-5" value="large" required>
              <label for="size-5" class="circle-label"></label>
              <span class="importance-label">Imenso</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Step 3: Emoções em círculos outline -->
      <div id="form-step-3" class="form-step" hidden>
        <h2 class="form-question">O que é que te faz sentir?</h2>
        <div class="form-group">
          <div class="emotion-circles">
            <!-- 1ª fila: 3 círculos -->
            <div class="emotion-row">
              <div class="emotion-option">
                <input type="radio" name="color-choice" id="emotion-raiva" value="warm" required>
                <label for="emotion-raiva" class="circle-label"></label>
                <span class="emotion-caption">Raiva</span>
              </div>
              <div class="emotion-option">
                <input type="radio" name="color-choice" id="emotion-alegria" value="vibrant" required>
                <label for="emotion-alegria" class="circle-label"></label>
                <span class="emotion-caption">Alegria</span>
              </div>
              <div class="emotion-option">
                <input type="radio" name="color-choice" id="emotion-nojo" value="cool" required>
                <label for="emotion-nojo" class="circle-label"></label>
                <span class="emotion-caption">Nojo</span>
              </div>
            </div>

            <!-- 2ª fila: 2 círculos -->
            <div class="emotion-row">
              <div class="emotion-option">
                <input type="radio" name="color-choice" id="emotion-tristeza" value="cool" required>
                <label for="emotion-tristeza" class="circle-label"></label>
                <span class="emotion-caption">Tristeza</span>
              </div>
              <div class="emotion-option">
                <input type="radio" name="color-choice" id="emotion-medo" value="warm" required>
                <label for="emotion-medo" class="circle-label"></label>
                <span class="emotion-caption">Medo</span>
              </div>
            </div>

            <!-- 3ª fila: 3 círculos -->
            <div class="emotion-row">
              <div class="emotion-option">
                <input type="radio" name="color-choice" id="emotion-nostalgia" value="warm" required>
                <label for="emotion-nostalgia" class="circle-label"></label>
                <span class="emotion-caption">Nostalgia</span>
              </div>
              <div class="emotion-option">
                <input type="radio" name="color-choice" id="emotion-catarse" value="vibrant" required>
                <label for="emotion-catarse" class="circle-label"></label>
                <span class="emotion-caption">Catarse</span>
              </div>
              <div class="emotion-option">
                <input type="radio" name="color-choice" id="emotion-distancia" value="cool" required>
                <label for="emotion-distancia" class="circle-label"></label>
                <span class="emotion-caption">Distância</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      

      <!-- Step 5: Medo de esquecer (igual a Pouco/Imenso) -->
      <div id="form-step-5" class="form-step" hidden>
        <h2 class="form-question">Tens medo de esquecer essa memória?</h2>
        <div class="form-group">
          <div class="importance-selector">
            <div class="importance-option">
              <input type="radio" name="fear-choice" id="fear-1" value="low" required>
              <label for="fear-1" class="circle-label"></label>
              <span class="importance-label">Pouco</span>
            </div>
            <div class="importance-option">
              <input type="radio" name="fear-choice" id="fear-2" value="low-medium" required>
              <label for="fear-2" class="circle-label"></label>
            </div>
            <div class="importance-option">
              <input type="radio" name="fear-choice" id="fear-3" value="medium" required>
              <label for="fear-3" class="circle-label"></label>
            </div>
            <div class="importance-option">
              <input type="radio" name="fear-choice" id="fear-4" value="medium-high" required>
              <label for="fear-4" class="circle-label"></label>
            </div>
            <div class="importance-option">
              <input type="radio" name="fear-choice" id="fear-5" value="high" required>
              <label for="fear-5" class="circle-label"></label>
              <span class="importance-label">Imenso</span>
            </div>
          </div>
        </div>
      </div>
    </form>
    
    <!-- Botões continuar fora do form -->
    <div class="intro-continue step-continue" id="btn-step-1" aria-label="Continuar para o próximo passo">
      <p><span class="btn-main">toca aqui</span><span class="btn-sub">para continuar</span></p>
      <svg class="arrow-down" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <div class="intro-continue step-continue" id="btn-step-2" hidden aria-label="Continuar para o próximo passo">
      <p><span class="btn-main">toca aqui</span><span class="btn-sub">para continuar</span></p>
      <svg class="arrow-down" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <div class="intro-continue step-continue" id="btn-step-3" hidden aria-label="Continuar para o próximo passo">
      <p><span class="btn-main">toca aqui</span><span class="btn-sub">para continuar</span></p>
      <svg class="arrow-down" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    
    <div class="intro-continue step-continue" id="btn-submit" hidden aria-label="Submeter formulário">
      <p><span class="btn-main">toca aqui</span><span class="btn-sub">para submeter</span></p>
      <svg class="arrow-down" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
  </div>
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  
  <!-- Scripts do projeto -->
  <script src="assets/js/firebase-config.js"></script>
  <script src="assets/js/memory-manager.js"></script>
  <script src="assets/js/form-handler.js"></script>
  <script src="assets/js/form-intro.js"></script>
  <script src="assets/js/form-steps.js"></script>
  <script src="assets/js/form-live-balls.js"></script>
</body>
</html>
